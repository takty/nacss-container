"use strict";window.NACSS=window.NACSS||{},window.NACSS.container=window.NACSS.container||{},(t=>{const e=[],o=[];document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("resize",(()=>{for(const t of e)t()}),{passive:!0}),window.addEventListener("scroll",(()=>{for(const t of o)t()}),{passive:!0})}));class n{#t;#e;static NS="--nc-container-masonry-";constructor(t){function e(t){let e;return(...o)=>{e||(e=!0,requestAnimationFrame((()=>{e=!1,t(...o)})))}}if(this.#t=t instanceof Node?t:document.querySelector(t),this.#e=this.#t.querySelectorAll(":scope > *"),this.#t&&this.#e.length){const t=new ResizeObserver(e((()=>this.#o())));t.observe(this.#t);for(const e of this.#e)t.observe(e);new MutationObserver(e((()=>{this.#e=this.#t.querySelectorAll(":scope > *"),this.#o()}))).observe(this.#t,{childList:!0})}}#o(){this.#t.style.removeProperty(n.NS+"position"),this.#t.style.removeProperty(n.NS+"width");for(const t of this.#e)t.style.translate="";const{gx:t,gy:e,cw:o}=this.#n(),s=this.#s();this.#t.style.setProperty(n.NS+"position","absolute"),this.#t.style.setProperty(n.NS+"width",`${o}px`);const i=[],r=[];for(let e=0;e<s;++e)i.push(e*(o+t)),r.push(0);for(const t of this.#e){const o=t.getBoundingClientRect();if(!o.width&&!o.height)continue;const n=r.indexOf(this.#i(r,2*e));t.style.translate=`${i[n]}px ${0|r[n]}px`,r[n]+=o.height+e}this.#t.style.height=`${Math.max(0,Math.ceil(Math.max(...r)-e))}px`}#i(t,e){let o=t[0];for(let n=1;n<t.length;n+=1)t[n]+e<o&&(o=t[n]);return o}#n(){const t=window.getComputedStyle(this.#t),e=t.columnGap?parseInt(t.columnGap):0,o=t.rowGap?parseInt(t.rowGap):0;let n=0;for(const t of this.#e){const e=t.getBoundingClientRect();if(e.width||e.height){n=Math.floor(e.width);break}}return{gx:e,gy:o,cw:n}}#s(){let t=null,e=0;for(const o of this.#e){const n=o.getBoundingClientRect();if(n.width||n.height){if(null===t&&(t=n.y),t!==n.y)return e;e+=1}}return e}}t.applyMasonry=function(t){for(const e of t)new n(e)}})(window.NACSS.masonry);//# sourceMappingURL=container-masonry.min.js.map
